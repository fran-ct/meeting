
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Sidebar de Meet</title>
  <script src="https://www.gstatic.com/meetjs/addons/1.1.0/meet.addons.js"></script>
  <script>
    let sidePanelClient;

    // 1) Al cargar, creamos la sesión y el cliente de side panel
    async function init() {
      const session = await meet.addon.createAddonSession({
        cloudProjectNumber: '132253621911'
      });
      sidePanelClient = await session.createSidePanelClient();
      document.getElementById('openMainStage').disabled = false;
    }

    // 2) Al hacer clic, abrimos el Main Stage para todos
    async function openMainStage() {
      if (!sidePanelClient) return alert('Aún no listo');
      await sidePanelClient.startActivity({
        mainStageUrl: 'https://fran-ct.github.io/main-stage-meet/index.html'
      });
    }

    window.onload = () => {
      init();
      document.getElementById('openMainStage')
              .addEventListener('click', openMainStage);
    };
  </script>
  <style>
    body { font-family: sans-serif; padding:16px; }
    button { padding:8px 16px; font-size:16px; }
  </style>
</head>
<body>
  <h2>Mi Sidebar</h2>
  <button id="openMainStage" disabled>Abrir Main Stage</button>
</body>
</html>
